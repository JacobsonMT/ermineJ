<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
	<head>
		<meta name="generator" content="HTML Tidy, see www.w3.org">
		<link href="../style.css" rel="stylesheet" type="text/css" media="all">

		<title>ORA</title>
	</head>

	<body bgcolor="#ffffff">
		<img src="../images/logo1small.gif" />
		<h2>
			Tutorial: General analysis steps and Over-representation analysis
			(ORA)
		</h2>

		<p>
			We suggest that you read this page first, as it explains some aspects
			of analysis that are common to all the methods.
		</p>

		<h2>
			Overview of the method
		</h2>

		<p>
			Over-representation analysis (ORA) examines the genes that meet a
			selection criterion and determines if there are gene sets which are
			statistically over-represented. This method differs from the
			resampling-based analysis in that you must set a gene score threshold
			for gene selection. The software does not support entering a list of
			selected genes. Instead, you input the list of all genes along with
			their scores, and set the threshold.
		</p>

		<p>
			The probabilities produced by ermineJ ORA are computed using the
			binomal approximation to the hypergeometric distribution.
		</p>

		<h2>
			When to use ORA
		</h2>

		<p>
			Because ORA requires that you set a distinction between "good" and
			"bad" genes, ORA is most appropriate when you are very confident
			about the threshold. This is because changing the threshold can
			change the results, sometimes dramatically. If you are examining
			genes which naturally fall into two categories ("on chromosome 2" and
			"not on chromosome 2"), then ORA is the logical choice. Otherwise, in
			our opinion the the
			<a href="tutorial/resampling">gene score resampling</a> or the
			<a href="tutorial/roc.html">ROC</a> methods are a better choice.
		</p>

		<p>
			We are sometimes asked about looking at functional enrichment in gene
			clusters. ORA might seem like a natural choice because for each
			cluster you divide the genes into "in the cluster" and "not in the
			cluster". ORA is appropriate in that case, but ermineJ also offers an
			alternative,
			<a href="tutorial/correlation.html">correlation scoring</a>.
		</p>

		<h2>
			Walkthrough
		</h2>

		<p>
			<strong>Step 1</strong> is to choose the type of analysis. We select
			ORA:
		</p>

		<img border=0 src="setupOra_files/setupOra0.jpg" usemap="#frame0map">
		<br>
		<br>
		<hr>
		<h3>
			Step 2: choose input file(s)
		</h3>

		<p>
			The next window is common to all analysis methods. Two data files are
			requested. For ORA, only the Gene Score File is required. However,
			entering the raw data file will allow you to visualize the results
			later.
		</p>

		<p>
			The Gene Score file format is explained
			<a href="../formats/genescores.html">here.</a> &nbsp;In this panel,
			you must also select the score column. The first column in the gene
			score file contains the probe identifiers; the gene scores themselves
			are in the second or higher column. If your gene score file only has
			two columns, just use the default value of 2.
		</p>

		<p>
			The Raw data file format is explained
			<a href="../formats/microarray.html">here</a> .
		</p>

		<img border=0 src="setupOra_files/setupOra1.jpg" usemap="#frame1map">
		<br>
		<br>
		<hr>
		<h3>
			Step 3: Choose custom gene sets to include
		</h3>

		<p>
			This, also common to all analysis methods, asks you to add any custom
			gene sets you may have defined.
		</p>


		<img border=0 src="setupOra_files/setupOra2.jpg" usemap="#frame2map">
		<br>
		<br>
		<hr>
		<h3>
			Step 4: Choose GO aspects
		</h3>

		<p>
			<strong>Step 4</strong> is also common to all the methods. Select the
			GO aspects you want to include in the analysis.
		</p>

		<img border=0 src="setupOra_files/setupOra3.jpg" usemap="#frame3map">
		<br>
		<br>
		<hr>
		<p>
			<strong>Step 5</strong> is also common to all the methods.
		</p>

		<p>
			The
			<strong>maximum and minimum gene set sizes</strong> determine the
			range of gene set sizes that will be considered. We recommend
			avoiding the use of very small or very large gene sets. There are
			several reasons to avoid using extremes:
		</p>

		<ul>
			<li>
				<div>
					The more gene sets you examine, the worse the multiple testing
					issue.
				</div>
			</li>

			<li>
				<div>
					Using more gene sets increases computation time for the
					resamping-based methods (not an issue for ORA).
				</div>
			</li>

			<li>
				<div>
					Very large or very small gene sets are less informative:
				</div>
			</li>

			<li style="LIST-STYLE-TYPE: none">
				<ul>
					<li>
						<div>
							Very large gene sets are rather non-specific and tend not to tell
							you as much.
						</div>
					</li>

					<li>
						<div>
							Very small gene sets defeat the purpose of examining genes in
							groups.
						</div>
					</li>
				</ul>
			</li>
		</ul>

		<p>
			The "
			<strong>Gene replicate treatment</strong> " refers to what is done
			when a gene occurs more than once in the dataset.
		</p>

		<p>
			There are two options, "Best" and "Mean". The application of these
			methods differs for the different methods. There is more information
			<a href="genereps">here</a>
		</p>


		<img border=0 src="setupOra_files/setupOra4.jpg" usemap="#frame4map">
		<br>
		<br>
		<hr>
		<h3>
			Step 6: ORA-specific settings
		</h3>

		<p>
			This step is specific to the ORA analysis.
		</p>

		<p>
			The gene score threshold determines how genes are "selected". Genes
			that meet the threshold requirement are considered "good". ErmineJ
			operates differently from some other available tools in that you do
			not enter the "good" genes yourself: the software selects them based
			on the criteria you set here.
		</p>
		<p>After you change this setting, the number of genes selected and their <a href="multifunc.html">multifunctionality bias</a>
		are displayed in the status bar of the wizard. This value is also reported in the tooltip for the reults header (after the analysis).
	Multifunctionality bias is the tendency for your selected genes to contain genes with many functions. The value provided 
	is the area under the ROC curve (AUROC). Values of 0.5 are uninteresting, while values nearer to 1.0 would indicate 
		some degree of multifunctionality bias.</p>
		<p>
			<b>Tip:</b> If you are using
			<em>raw p values</em> as your gene scores, make sure your threshold
			is a value between 0 and 1 (e.g., 0.0001), check the "log transform"
			box, and leave the "larger scores are better" box unchecked. This is
			because the "larger is better" choice relates to the original
			threshold, not the log-tranformed threshold. On the other hand, if
			your p-values are already -log-transformed, you should use the exact
			opposite settings.
		</p>

		<h3>
			Log transformation
		</h3>

		<p>
			If you negative log-transform the gene scores, then your input gene
			scores are transformed according to the function f(x) = -
			<em>log<sub>10</sub>
			</em>(x). This option is provided as a convenience as a common type of
			gene score is a p-value. The transform f(x) puts the p values on a
			more useful scale. However, you should still leave the "larger scores
			are better" box unchecked, as this refers to your original data.
		</p>

		<h3>
			Are larger gene scores better?
		</h3>

		<p>
			If you are using
			<strong>fold change</strong> as your gene scores, you will probably
			want to check the "larger scores are better" box. This assumes that
			you have taken the absolute value of the fold change values before
			entering them into ermineJ. That way, changes up and down will be
			considered equally. Alternatively, you could focus on changes up or
			down by retaining the sign on the fold change values and setting this
			option depending on which direction of change you are interested in
			analyzing.
		</p>
		
		<h3>
			Correct for multifunctionality?
		</h3>
		
		<p>As described <a href="multifunc.html">here</a>, the presence of highly multifunctional genes
		in your "hit list" can strongly distort the results of over-representation analysis. Checking this box 
		attempts to reduce this effect by removing the most multifunctional genes from your hit list. If you run with and
		without the correction, you may notice that you get fewer "significant" gene sets afterwards, and this
		selectively acts on the more multifunctional groups. This increases the biological specificity of your 
		analysis and can improve the ability to pick up weaker signals that would otherwise be masked by dominant
		multifunctional gene effects.</p>


		<p>
			There is another explanation of gene scores
			<a href="scores.html">here</a>.
		</p>


		<img border=0 src="setupOra_files/setupOra5.jpg" usemap="#frame5map">
		<br>
		<br>

		<p>
			After hitting finish, you will rapidly get a new result set in the
			output (results) table. This is explained
			<a href="analysis.html">here</a>
		</p>
		<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl."
		: "http://www.");
document
		.write(unescape("%3Cscript src='"
				+ gaJsHost
				+ "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
		<script type="text/javascript">
var pageTracker = _gat._getTracker('UA-4826357-1');
pageTracker._initData();
pageTracker._trackPageview();
</script>
	</body>
</html>
